{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t){},133:function(e,t){},148:function(e,t,a){},149:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a(9),r=a.n(c),i=a(19),l=a(83),o=a(54),s=a.n(o),d=a(4),j=Object(n.createContext)(),u=Object(l.io)(\"https://domingo-web-chat.herokuapp.com\"),b=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)(!1),b=Object(i.a)(o,2),m=b[0],x=b[1],p=Object(n.useState)(),O=Object(i.a)(p,2),f=O[0],h=O[1],g=Object(n.useState)(\"\"),v=Object(i.a)(g,2),C=v[0],w=v[1],y=Object(n.useState)({}),N=Object(i.a)(y,2),k=N[0],S=N[1],I=Object(n.useState)(\"\"),D=Object(i.a)(I,2),A=D[0],B=D[1],R=Object(n.useRef)(),U=Object(n.useRef)(),E=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){h(e),R.current.srcObject=e})),u.on(\"me\",(function(e){return B(e)})),u.on(\"callUser\",(function(e){var t=e.from,a=e.name,n=e.signal;S({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(d.jsx)(j.Provider,{value:{call:k,callAccepted:r,myVideo:R,userVideo:U,stream:f,name:C,setName:w,callEnded:m,me:A,callUser:function(e){var t=new s.a({initiator:!0,trickle:!1,stream:f});t.on(\"signal\",(function(t){u.emit(\"callUser\",{userToCall:e,signalData:t,from:A,name:C})})),t.on(\"stream\",(function(e){U.current.srcObject=e})),u.on(\"callAccepted\",(function(e){l(!0),t.signal(e)})),E.current=t},leaveCall:function(){x(!0),E.current.destroy(),window.location.reload()},answerCall:function(){l(!0);var e=new s.a({initiator:!1,trickle:!1,stream:f});e.on(\"signal\",(function(e){u.emit(\"answerCall\",{signal:e,to:k.from})})),e.on(\"stream\",(function(e){U.current.srcObject=e})),e.signal(k.signal),E.current=e}},children:t})},m=a(22),x=a(189),p=a(184),O=a(179),f=a(182),h=a(150),g=Object(O.a)((function(e){return{video:Object(m.a)({width:\"550px\"},e.breakpoints.down(\"xs\"),{width:\"300px\"}),gridContainer:Object(m.a)({justifyContent:\"center\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),paper:{padding:\"10px\",border:\"2px solid black\",margin:\"10px\"}}})),v=function(){var e=Object(n.useContext)(j),t=e.name,a=e.callAccepted,c=e.myVideo,r=e.userVideo,i=e.callEnded,l=e.stream,o=e.call,s=g();return Object(d.jsxs)(f.a,{container:!0,className:s.gridContainer,children:[l&&Object(d.jsx)(h.a,{className:s.paper,children:Object(d.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(d.jsx)(p.a,{variant:\"h5\",gutterBottom:!0,children:t||\"Name\"}),Object(d.jsx)(\"video\",{playsInline:!0,muted:!0,ref:c,autoPlay:!0,className:s.video})]})}),a&&!i&&Object(d.jsx)(h.a,{className:s.paper,children:Object(d.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(d.jsx)(p.a,{variant:\"h5\",gutterBottom:!0,children:o.name||\"Name\"}),Object(d.jsx)(\"video\",{playsInline:!0,ref:r,autoPlay:!0,className:s.video})]})})]})},C=a(191),w=function(){var e=Object(n.useContext)(j),t=e.answerCall,a=e.call,c=e.callAccepted;return Object(d.jsx)(d.Fragment,{children:a.isReceivingCall&&!c&&Object(d.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[Object(d.jsxs)(\"h1\",{children:[a.name,\" is calling:\"]}),Object(d.jsx)(C.a,{variant:\"contained\",color:\"primary\",onClick:t,children:\"Answer\"})]})})},y=a(185),N=a(190),k=a(89),S=a(186),I=a(187),D=a(188),A=Object(O.a)((function(e){return{root:{display:\"flex\",flexDirection:\"column\"},gridContainer:Object(m.a)({width:\"100%\"},e.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),container:Object(m.a)({width:\"600px\",margin:\"35px 0\",padding:0},e.breakpoints.down(\"xs\"),{width:\"80%\"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:\"10px 20px\",border:\"2px solid black\"}}})),B=function(e){var t=e.children,a=Object(n.useContext)(j),c=a.me,r=a.callAccepted,l=a.name,o=a.setName,s=a.callEnded,u=a.leaveCall,b=a.callUser,m=Object(n.useState)(\"\"),x=Object(i.a)(m,2),O=x[0],g=x[1],v=A();return Object(d.jsx)(y.a,{className:v.container,children:Object(d.jsxs)(h.a,{elevation:10,className:v.paper,children:[Object(d.jsx)(\"form\",{className:v.root,noValidate:!0,autoComplete:\"off\",children:Object(d.jsxs)(f.a,{container:!0,className:v.gridContainer,children:[Object(d.jsxs)(f.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(d.jsx)(p.a,{gutterBottom:!0,variant:\"h6\",children:\"Account Info\"}),Object(d.jsx)(N.a,{label:\"Name\",value:l,onChange:function(e){return o(e.target.value)},fullWidth:!0}),Object(d.jsx)(k.CopyToClipboard,{text:c,className:v.margin,children:Object(d.jsx)(C.a,{variant:\"contained\",color:\"primary\",fullWidth:!0,startIcon:Object(d.jsx)(S.a,{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),Object(d.jsxs)(f.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(d.jsx)(p.a,{gutterBottom:!0,variant:\"h6\",children:\"Make a call\"}),Object(d.jsx)(N.a,{label:\"ID to call\",value:O,onChange:function(e){return g(e.target.value)},fullWidth:!0}),r&&!s?Object(d.jsx)(C.a,{variant:\"contained\",color:\"secondary\",startIcon:Object(d.jsx)(I.a,{fontSize:\"large\"}),fullWidth:!0,onClick:u,className:v.margin,children:\"Hang Up\"}):Object(d.jsx)(C.a,{variant:\"contained\",color:\"primary\",startIcon:Object(d.jsx)(D.a,{fontSize:\"large\"}),fullWidth:!0,onClick:function(){return b(O)},className:v.margin,children:\"Call\"})]})]})}),t]})})},R=Object(O.a)((function(e){return{appBar:Object(m.a)({borderRadius:20,margin:\"35px 100px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",width:\"600px\",border:\"none\",boxShadow:\"6px 12px 10px rgba(0, 0, 0, 0.2), 6px 15px 10px rgba(0, 0, 0, 0.4)\"},e.breakpoints.down(\"xs\"),{width:\"90%\"}),wrapper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",width:\"100%\"}}})),U=function(){var e=R();return Object(d.jsxs)(\"div\",{className:e.wrapper,children:[Object(d.jsx)(x.a,{className:e.appBar,position:\"static\",color:\"inherit\",children:Object(d.jsx)(p.a,{variant:\"h2\",align:\"center\",color:\"textSecondary\",children:\"Domingo\"})}),Object(d.jsx)(v,{}),Object(d.jsx)(B,{children:Object(d.jsx)(w,{})})]})};a(148);r.a.render(Object(d.jsx)(b,{children:Object(d.jsx)(U,{})}),document.getElementById(\"root\"))}},[[149,1,2]]]);","name":"static/js/main.30f78482.chunk.js","map":{"version":3,"sources":["static/js/main.30f78482.chunk.js"],"names":["this","push","131","module","exports","133","148","__webpack_require__","149","__webpack_exports__","r","react","react_dom","react_dom_default","n","slicedToArray","build","simple_peer","simple_peer_default","jsx_runtime","SocketContext","Object","socket","SocketContext_ContextProvider","_ref","children","_useState","_useState2","callAccepted","setCallAccepted","_useState3","_useState4","callEnded","setCallEnded","_useState5","_useState6","stream","setStream","_useState7","_useState8","name","setName","_useState9","_useState10","call","setCall","_useState11","_useState12","me","setMe","myVideo","userVideo","connectionRef","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","_ref2","from","callerName","signal","isReceivingCall","Provider","value","callUser","peer","a","initiator","trickle","data","emit","userToCall","signalData","leaveCall","destroy","window","location","reload","answerCall","to","defineProperty","AppBar","Typography","makeStyles","Grid","Paper","useStyles","theme","width","breakpoints","down","gridContainer","justifyContent","flexDirection","paper","padding","border","margin","components_VideoPlayer","_useContext","classes","container","className","item","xs","md","variant","gutterBottom","playsInline","muted","ref","autoPlay","Button","components_Notifications","style","display","color","onClick","Container","TextField","lib","Assignment","PhoneDisabled","Phone","Options_useStyles","root","marginTop","components_Options","idToCall","setIdToCall","elevation","noValidate","autoComplete","label","onChange","e","target","fullWidth","text","startIcon","fontSize","App_useStyles","appBar","borderRadius","alignItems","boxShadow","wrapper","src_App","position","align","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 131:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(9);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(83);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(54);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/SocketContext.js\nvar SocketContext=/*#__PURE__*/Object(react[\"createContext\"])();var socket=Object(build[\"io\"])(\"https://domingo-web-chat.herokuapp.com\");var SocketContext_ContextProvider=function ContextProvider(_ref){var children=_ref.children;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),callAccepted=_useState2[0],setCallAccepted=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),callEnded=_useState4[0],setCallEnded=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),stream=_useState6[0],setStream=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),name=_useState8[0],setName=_useState8[1];var _useState9=Object(react[\"useState\"])({}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),call=_useState10[0],setCall=_useState10[1];var _useState11=Object(react[\"useState\"])(\"\"),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),me=_useState12[0],setMe=_useState12[1];var myVideo=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var connectionRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(currentStream){setStream(currentStream);myVideo.current.srcObject=currentStream;});socket.on(\"me\",function(id){return setMe(id);});socket.on(\"callUser\",function(_ref2){var from=_ref2.from,callerName=_ref2.name,signal=_ref2.signal;setCall({isReceivingCall:true,from:from,name:callerName,signal:signal});});},[]);var answerCall=function answerCall(){setCallAccepted(true);var peer=new simple_peer_default.a({initiator:false,trickle:false,stream:stream});peer.on(\"signal\",function(data){socket.emit(\"answerCall\",{signal:data,to:call.from});});peer.on(\"stream\",function(currentStream){userVideo.current.srcObject=currentStream;});peer.signal(call.signal);connectionRef.current=peer;};var callUser=function callUser(id){var peer=new simple_peer_default.a({initiator:true,trickle:false,stream:stream});peer.on(\"signal\",function(data){socket.emit(\"callUser\",{userToCall:id,signalData:data,from:me,name:name});});peer.on(\"stream\",function(currentStream){userVideo.current.srcObject=currentStream;});socket.on(\"callAccepted\",function(signal){setCallAccepted(true);peer.signal(signal);});connectionRef.current=peer;};var leaveCall=function leaveCall(){setCallEnded(true);connectionRef.current.destroy();window.location.reload();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext.Provider,{value:{call:call,callAccepted:callAccepted,myVideo:myVideo,userVideo:userVideo,stream:stream,name:name,setName:setName,callEnded:callEnded,me:me,callUser:callUser,leaveCall:leaveCall,answerCall:answerCall},children:children});};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/AppBar/AppBar.js\nvar AppBar = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(182);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(150);\n\n// CONCATENATED MODULE: ./src/components/VideoPlayer.jsx\n// import { SocketContext } from \"../SocketContext\";\nvar useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{video:Object(defineProperty[\"a\" /* default */])({width:\"550px\"},theme.breakpoints.down(\"xs\"),{width:\"300px\"}),gridContainer:Object(defineProperty[\"a\" /* default */])({justifyContent:\"center\"},theme.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),paper:{padding:\"10px\",border:\"2px solid black\",margin:\"10px\"}};});var VideoPlayer_VideoPlayer=function VideoPlayer(){var _useContext=Object(react[\"useContext\"])(SocketContext),name=_useContext.name,callAccepted=_useContext.callAccepted,myVideo=_useContext.myVideo,userVideo=_useContext.userVideo,callEnded=_useContext.callEnded,stream=_useContext.stream,call=_useContext.call;var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[stream&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:name||\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,muted:true,ref:myVideo,autoPlay:true,className:classes.video})]})}),callAccepted&&!callEnded&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h5\",gutterBottom:true,children:call.name||\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{playsInline:true,ref:userVideo,autoPlay:true,className:classes.video})]})})]});};/* harmony default export */ var components_VideoPlayer = (VideoPlayer_VideoPlayer);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 6 modules\nvar Button = __webpack_require__(191);\n\n// CONCATENATED MODULE: ./src/components/Notifications.jsx\nvar Notifications_Notifications=function Notifications(){var _useContext=Object(react[\"useContext\"])(SocketContext),answerCall=_useContext.answerCall,call=_useContext.call,callAccepted=_useContext.callAccepted;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:call.isReceivingCall&&!callAccepted&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[call.name,\" is calling:\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:answerCall,children:\"Answer\"})]})});};/* harmony default export */ var components_Notifications = (Notifications_Notifications);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Container/Container.js\nvar Container = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 42 modules\nvar TextField = __webpack_require__(190);\n\n// EXTERNAL MODULE: ./node_modules/react-copy-to-clipboard/lib/index.js\nvar lib = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Assignment.js\nvar Assignment = __webpack_require__(186);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/PhoneDisabled.js\nvar PhoneDisabled = __webpack_require__(187);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/esm/Phone.js\nvar Phone = __webpack_require__(188);\n\n// CONCATENATED MODULE: ./src/components/Options.jsx\nvar Options_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{display:\"flex\",flexDirection:\"column\"},gridContainer:Object(defineProperty[\"a\" /* default */])({width:\"100%\"},theme.breakpoints.down(\"xs\"),{flexDirection:\"column\"}),container:Object(defineProperty[\"a\" /* default */])({width:\"600px\",margin:\"35px 0\",padding:0},theme.breakpoints.down(\"xs\"),{width:\"80%\"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:\"10px 20px\",border:\"2px solid black\"}};});var Options_Options=function Options(_ref){var children=_ref.children;var _useContext=Object(react[\"useContext\"])(SocketContext),me=_useContext.me,callAccepted=_useContext.callAccepted,name=_useContext.name,setName=_useContext.setName,callEnded=_useContext.callEnded,leaveCall=_useContext.leaveCall,callUser=_useContext.callUser;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),idToCall=_useState2[0],setIdToCall=_useState2[1];var classes=Options_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{className:classes.container,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Paper[\"a\" /* default */],{elevation:10,className:classes.paper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,className:classes.gridContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",children:\"Account Info\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);},fullWidth:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"CopyToClipboard\"],{text:me,className:classes.margin,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",fullWidth:true,startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Assignment[\"a\" /* default */],{fontSize:\"large\"}),children:\"Copy Your ID\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:6,className:classes.padding,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{gutterBottom:true,variant:\"h6\",children:\"Make a call\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"ID to call\",value:idToCall,onChange:function onChange(e){return setIdToCall(e.target.value);},fullWidth:true}),callAccepted&&!callEnded?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"secondary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PhoneDisabled[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:leaveCall,className:classes.margin,children:\"Hang Up\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Phone[\"a\" /* default */],{fontSize:\"large\"}),fullWidth:true,onClick:function onClick(){return callUser(idToCall);},className:classes.margin,children:\"Call\"})]})]})}),children]})});};/* harmony default export */ var components_Options = (Options_Options);\n// CONCATENATED MODULE: ./src/App.js\nvar App_useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{appBar:Object(defineProperty[\"a\" /* default */])({borderRadius:20,margin:\"35px 100px\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",width:\"600px\",border:\"none\",boxShadow:\"6px 12px 10px rgba(0, 0, 0, 0.2), 6px 15px 10px rgba(0, 0, 0, 0.4)\"},theme.breakpoints.down(\"xs\"),{width:\"90%\"}),wrapper:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",width:\"100%\"}};});var App_App=function App(){var classes=App_useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppBar[\"a\" /* default */],{className:classes.appBar,position:\"static\",color:\"inherit\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{variant:\"h2\",align:\"center\",color:\"textSecondary\",children:\"Domingo\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_VideoPlayer,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Options,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Notifications,{})})]});};/* harmony default export */ var src_App = (App_App);\n// EXTERNAL MODULE: ./src/styles.css\nvar styles = __webpack_require__(148);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SocketContext_ContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[149,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\node_modules\\simple-peer\\node_modules\\readable-stream\\lib\\internal\\streams util","C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\kaust\\OneDrive\\Desktop\\domingo\\client\\src\\styles.css","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/SocketContext.js","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/components/VideoPlayer.jsx","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/components/Notifications.jsx","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/components/Options.jsx","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/App.js","C:/Users/kaust/OneDrive/Desktop/domingo/client/src/index.js"],"names":["SocketContext","createContext","socket","io","ContextProvider","children","useState","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","name","setName","call","setCall","me","setMe","myVideo","useRef","userVideo","connectionRef","useEffect","navigator","mediaDevices","getUserMedia","video","audio","then","currentStream","current","srcObject","on","id","from","callerName","signal","isReceivingCall","answerCall","peer","Peer","initiator","trickle","data","emit","to","callUser","userToCall","signalData","leaveCall","destroy","window","location","reload","useStyles","makeStyles","theme","width","breakpoints","down","gridContainer","justifyContent","flexDirection","paper","padding","border","margin","VideoPlayer","useContext","classes","Notifications","display","root","container","marginTop","Options","idToCall","setIdToCall","e","target","value","appBar","borderRadius","alignItems","boxShadow","wrapper","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","import React, { createContext, useState, useRef, useEffect } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\n\r\nconst SocketContext = createContext();\r\nconst socket = io(\"https://domingo-web-chat.herokuapp.com\");\r\n\r\nconst ContextProvider = ({ children }) => {\r\n  const [callAccepted, setCallAccepted] = useState(false);\r\n  const [callEnded, setCallEnded] = useState(false);\r\n  const [stream, setStream] = useState();\r\n  const [name, setName] = useState(\"\");\r\n  const [call, setCall] = useState({});\r\n  const [me, setMe] = useState(\"\");\r\n\r\n  const myVideo = useRef();\r\n  const userVideo = useRef();\r\n  const connectionRef = useRef();\r\n\r\n  useEffect(() => {\r\n    navigator.mediaDevices\r\n      .getUserMedia({ video: true, audio: true })\r\n      .then(currentStream => {\r\n        setStream(currentStream);\r\n\r\n        myVideo.current.srcObject = currentStream;\r\n      });\r\n\r\n    socket.on(\"me\", id => setMe(id));\r\n\r\n    socket.on(\"callUser\", ({ from, name: callerName, signal }) => {\r\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\r\n    });\r\n  }, []);\r\n\r\n  const answerCall = () => {\r\n    setCallAccepted(true);\r\n\r\n    const peer = new Peer({ initiator: false, trickle: false, stream });\r\n\r\n    peer.on(\"signal\", data => {\r\n      socket.emit(\"answerCall\", { signal: data, to: call.from });\r\n    });\r\n\r\n    peer.on(\"stream\", currentStream => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    peer.signal(call.signal);\r\n\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n  const callUser = id => {\r\n    const peer = new Peer({ initiator: true, trickle: false, stream });\r\n\r\n    peer.on(\"signal\", data => {\r\n      socket.emit(\"callUser\", {\r\n        userToCall: id,\r\n        signalData: data,\r\n        from: me,\r\n        name,\r\n      });\r\n    });\r\n\r\n    peer.on(\"stream\", currentStream => {\r\n      userVideo.current.srcObject = currentStream;\r\n    });\r\n\r\n    socket.on(\"callAccepted\", signal => {\r\n      setCallAccepted(true);\r\n\r\n      peer.signal(signal);\r\n    });\r\n\r\n    connectionRef.current = peer;\r\n  };\r\n\r\n  const leaveCall = () => {\r\n    setCallEnded(true);\r\n\r\n    connectionRef.current.destroy();\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <SocketContext.Provider\r\n      value={{\r\n        call,\r\n        callAccepted,\r\n        myVideo,\r\n        userVideo,\r\n        stream,\r\n        name,\r\n        setName,\r\n        callEnded,\r\n        me,\r\n        callUser,\r\n        leaveCall,\r\n        answerCall,\r\n      }}\r\n    >\r\n      {children}\r\n    </SocketContext.Provider>\r\n  );\r\n};\r\n\r\nexport { ContextProvider, SocketContext };\r\n","import React, { useContext } from \"react\";\r\nimport { Grid, Typography, Paper, makeStyles } from \"@material-ui/core\";\r\nimport { SocketContext } from \"../SocketContext\";\r\n\r\n// import { SocketContext } from \"../SocketContext\";\r\nconst useStyles = makeStyles(theme => ({\r\n  video: {\r\n    width: \"550px\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: \"300px\",\r\n    },\r\n  },\r\n  gridContainer: {\r\n    justifyContent: \"center\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  paper: {\r\n    padding: \"10px\",\r\n    border: \"2px solid black\",\r\n    margin: \"10px\",\r\n  },\r\n}));\r\nconst VideoPlayer = () => {\r\n  const { name, callAccepted, myVideo, userVideo, callEnded, stream, call } =\r\n    useContext(SocketContext);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container className={classes.gridContainer}>\r\n      {stream && (\r\n        <Paper className={classes.paper}>\r\n          <Grid item xs={12} md={6}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {name || \"Name\"}\r\n            </Typography>\r\n            <video\r\n              playsInline\r\n              muted\r\n              ref={myVideo}\r\n              autoPlay\r\n              className={classes.video}\r\n            />\r\n          </Grid>\r\n        </Paper>\r\n      )}\r\n      {callAccepted && !callEnded && (\r\n        <Paper className={classes.paper}>\r\n          <Grid item xs={12} md={6}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {call.name || \"Name\"}\r\n            </Typography>\r\n            <video\r\n              playsInline\r\n              ref={userVideo}\r\n              autoPlay\r\n              className={classes.video}\r\n            />\r\n          </Grid>\r\n        </Paper>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","import React, { useContext } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nimport { SocketContext } from \"../SocketContext\";\r\n\r\nconst Notifications = () => {\r\n  const { answerCall, call, callAccepted } = useContext(SocketContext);\r\n\r\n  return (\r\n    <>\r\n      {call.isReceivingCall && !callAccepted && (\r\n        <div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n          <h1>{call.name} is calling:</h1>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={answerCall}>\r\n            Answer\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","import React, { useState, useContext } from \"react\";\r\nimport {\r\n  Button,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\nimport { Assignment, Phone, PhoneDisabled } from \"@material-ui/icons\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { SocketContext } from \"../SocketContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  gridContainer: {\r\n    width: \"100%\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      flexDirection: \"column\",\r\n    },\r\n  },\r\n  container: {\r\n    width: \"600px\",\r\n    margin: \"35px 0\",\r\n    padding: 0,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      width: \"80%\",\r\n    },\r\n  },\r\n  margin: {\r\n    marginTop: 20,\r\n  },\r\n  padding: {\r\n    padding: 20,\r\n  },\r\n  paper: {\r\n    padding: \"10px 20px\",\r\n    border: \"2px solid black\",\r\n  },\r\n}));\r\n\r\nconst Options = ({ children }) => {\r\n  const { me, callAccepted, name, setName, callEnded, leaveCall, callUser } =\r\n    useContext(SocketContext);\r\n  const [idToCall, setIdToCall] = useState(\"\");\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Paper elevation={10} className={classes.paper}>\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n          <Grid container className={classes.gridContainer}>\r\n            <Grid item xs={12} md={6} className={classes.padding}>\r\n              <Typography gutterBottom variant=\"h6\">\r\n                Account Info\r\n              </Typography>\r\n              <TextField\r\n                label=\"Name\"\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n                fullWidth\r\n              />\r\n              <CopyToClipboard text={me} className={classes.margin}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  fullWidth\r\n                  startIcon={<Assignment fontSize=\"large\" />}\r\n                >\r\n                  Copy Your ID\r\n                </Button>\r\n              </CopyToClipboard>\r\n            </Grid>\r\n            <Grid item xs={12} md={6} className={classes.padding}>\r\n              <Typography gutterBottom variant=\"h6\">\r\n                Make a call\r\n              </Typography>\r\n              <TextField\r\n                label=\"ID to call\"\r\n                value={idToCall}\r\n                onChange={e => setIdToCall(e.target.value)}\r\n                fullWidth\r\n              />\r\n              {callAccepted && !callEnded ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  startIcon={<PhoneDisabled fontSize=\"large\" />}\r\n                  fullWidth\r\n                  onClick={leaveCall}\r\n                  className={classes.margin}\r\n                >\r\n                  Hang Up\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  startIcon={<Phone fontSize=\"large\" />}\r\n                  fullWidth\r\n                  onClick={() => callUser(idToCall)}\r\n                  className={classes.margin}\r\n                >\r\n                  Call\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n        {children}\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Options;\r\n","import React from \"react\";\nimport { Typography, AppBar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VideoPlayer from \"./components/VideoPlayer\";\nimport Notifications from \"./components/Notifications\";\nimport Options from \"./components/Options\";\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    borderRadius: 20,\n    margin: \"35px 100px\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: \"600px\",\n    border: \"none\",\n    boxShadow:\n      \"6px 12px 10px rgba(0, 0, 0, 0.2), 6px 15px 10px rgba(0, 0, 0, 0.4)\",\n\n    [theme.breakpoints.down(\"xs\")]: {\n      width: \"90%\",\n    },\n  },\n\n  wrapper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n}));\nconst App = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.wrapper}>\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n        <Typography variant=\"h2\" align=\"center\" color=\"textSecondary\">\n          Domingo\n        </Typography>\n      </AppBar>\n      <VideoPlayer />\n      <Options>\n        <Notifications />\n      </Options>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ContextProvider } from \"./SocketContext\";\nimport App from \"./App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <ContextProvider>\n    <App />\n  </ContextProvider>,\n\n  document.getElementById(\"root\")\n);\n"]}}